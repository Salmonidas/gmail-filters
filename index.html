<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gmail Filter Builder</title>
  <meta name="description" content="Visual builder for advanced Gmail search filters. No syntax to memorise, no backend, no build step. EN/ES support." />
  <meta name="theme-color" content="#1A73E8" />
  <meta name="google-site-verification" content="olWP1Oxlj0I75JQlZY0_yAyUCAZ7OlD-0ej_Oe9H-rc" />

  <!-- Open Graph -->
  <meta property="og:title"       content="Gmail Filter Builder" />
  <meta property="og:description" content="Visual builder for advanced Gmail search filters. No syntax to memorise, no backend, no build step. EN/ES support." />
  <meta property="og:type"        content="website" />

  <!-- Canonical: update to your GitHub Pages URL -->
  <!-- <link rel="canonical" href="https://salmonidas.github.io/gmail-filters/" /> -->

  <link rel="stylesheet" href="assets/css/styles.css" />
</head>
<body>

<div class="app-shell">

  <!-- ══════════════ TOP APP BAR ══════════════ -->
  <header class="app-bar" role="banner">
    <div class="app-bar-inner">
      <div class="app-bar-brand">
        <div class="brand-icon" aria-hidden="true">
          <!-- Gmail / filter icon -->
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"/>
          </svg>
        </div>
        <div class="brand-text">
          <span class="brand-title" data-i18n="app.title">Gmail Filter Builder</span>
          <span class="brand-subtitle" data-i18n="app.subtitle"></span>
        </div>
      </div>

      <!-- Header donate button + Theme toggle + Language selector -->
      <div style="display:flex;align-items:center;gap:8px;">
        <a id="header-donate-btn"
           href="#"
           target="_blank"
           rel="noopener noreferrer"
           class="header-donate-btn icon-btn"
           aria-label="Support the developer"
           title="Support the developer">
          <svg viewBox="0 0 24 24" fill="currentColor" stroke="none" aria-hidden="true" width="20" height="20">
            <path d="M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"/>
          </svg>
        </a>

        <button id="theme-toggle-btn"
                class="theme-toggle-btn icon-btn"
                aria-label="Toggle dark mode"
                title="Toggle dark mode">
        </button>

        <div class="lang-select-wrapper">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
            <circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/>
            <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
          </svg>
          <label for="lang-select" class="sr-only" data-i18n="app.language_selector">Language</label>
          <select id="lang-select" aria-label="Language"></select>
        </div>
      </div>
    </div>
  </header>

  <!-- ══════════════ NAVIGATION ══════════════ -->
  <nav class="nav-bar" role="navigation" aria-label="Main navigation">
    <div class="nav-bar-inner">
      <button class="nav-link active" data-section="builder" aria-current="page">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
          <rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/>
          <rect x="14" y="14" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/>
        </svg>
        <span data-i18n="nav.builder">Builder</span>
      </button>

      <button class="nav-link" data-section="examples">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
          <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
        </svg>
        <span data-i18n="nav.examples">Examples</span>
      </button>
      <button class="nav-link" data-section="help">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
          <circle cx="12" cy="12" r="10"/>
          <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/><line x1="12" y1="17" x2="12.01" y2="17"/>
        </svg>
        <span data-i18n="nav.help">Help</span>
      </button>

      <button class="nav-link" data-section="guide">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
          <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/>
          <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/>
        </svg>
        <span data-i18n="nav.guide">Guide</span>
      </button>
    </div>
  </nav>

  <!-- ══════════════ MAIN CONTENT ══════════════ -->
  <main class="main-content" id="main" role="main">

    <!-- ─────────────────── BUILDER SECTION ─────────────────── -->
    <section id="section-builder" class="main-section" aria-labelledby="builder-heading">

      <!-- Condition builder card -->
      <div class="md-card">
        <div class="card-header">
          <div class="card-header-left">
            <div class="card-header-icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="8" y1="6" x2="21" y2="6"/><line x1="8" y1="12" x2="21" y2="12"/>
                <line x1="8" y1="18" x2="21" y2="18"/><line x1="3" y1="6" x2="3.01" y2="6"/>
                <line x1="3" y1="12" x2="3.01" y2="12"/><line x1="3" y1="18" x2="3.01" y2="18"/>
              </svg>
            </div>
            <h1 id="builder-heading" class="card-title" data-i18n="builder.title">Filter Builder</h1>
          </div>
          <div class="card-header-actions">
            <button id="btn-advanced-toggle" class="md-btn md-btn-text">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="btn-icon" aria-hidden="true">
                <polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/>
              </svg>
              <span data-i18n="builder.advanced_mode">Edit query manually</span>
            </button>
          </div>
        </div>

        <div id="visual-builder" class="card-body">
          <!-- Conditions list -->
          <div id="conditions-list" class="hidden" role="list" aria-label="Filter conditions"></div>

          <!-- Empty state -->
          <div id="empty-state" class="empty-state" role="status">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" aria-hidden="true">
              <circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/>
              <line x1="11" y1="8" x2="11" y2="14"/><line x1="8" y1="11" x2="14" y2="11"/>
            </svg>
            <p data-i18n="builder.no_conditions">No conditions yet. Click "Add Condition" to start.</p>
          </div>

          <!-- Toolbar -->
          <div class="builder-toolbar" style="margin-top: 20px;">
            <button id="btn-add-condition" class="md-btn md-btn-primary">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="btn-icon" aria-hidden="true">
                <line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/>
              </svg>
              <span data-i18n="builder.add_condition">Add Condition</span>
            </button>
            <button id="btn-clear-all" class="md-btn md-btn-danger">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="btn-icon" aria-hidden="true">
                <polyline points="3 6 5 6 21 6"/><path d="M19 6l-1 14H6L5 6"/><path d="M10 11v6"/><path d="M14 11v6"/>
              </svg>
              <span data-i18n="builder.clear_all">Clear All</span>
            </button>
          </div>
        </div>

        <!-- Advanced editor (hidden by default) -->
        <div id="advanced-editor" class="hidden">
          <textarea
            id="advanced-query-input"
            spellcheck="false"
            aria-label="Gmail search query"
            placeholder="from:example@gmail.com subject:invoice has:attachment"
          ></textarea>
          <p class="advanced-note" data-i18n="builder.advanced_note">
            Edit the query directly. Click "Back to visual builder" to parse it back into conditions.
          </p>
        </div>
      </div><!-- /builder card -->

      <!-- Inline preview (also available on Preview tab) -->
      <div class="md-card">
        <div class="card-header">
          <div class="card-header-left">
            <div class="card-header-icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"/>
              </svg>
            </div>
            <h2 class="card-title" data-i18n="preview.title">Generated Query</h2>
          </div>
          <div class="card-header-actions" id="query-actions-header"></div>
        </div>
        <div class="card-body">
          <!-- Empty -->
          <p id="query-empty" class="preview-empty" role="status" data-i18n="preview.empty"></p>

          <!-- Query output -->
          <div id="query-output" class="hidden">
            <div class="query-output" role="region" aria-label="Generated Gmail query">
              <p id="query-text" class="query-text" aria-live="polite"></p>
            </div>
            <div class="query-meta">
              <span id="char-count" class="char-count" aria-live="polite"></span>
              <div class="query-actions">
                <button id="btn-copy" class="md-btn md-btn-tonal">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="btn-icon" aria-hidden="true">
                    <rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
                  </svg>
                  <span data-i18n="preview.copy">Copy</span>
                </button>
                <a id="btn-open-gmail"
                   href="#"
                   target="_blank"
                   rel="noopener noreferrer"
                   class="md-btn md-btn-primary">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="btn-icon" aria-hidden="true">
                    <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/>
                    <polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/>
                  </svg>
                  <span data-i18n="preview.open_gmail">Open in Gmail</span>
                </a>
                <button id="btn-view-guide" class="md-btn md-btn-tonal">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="btn-icon" aria-hidden="true">
                    <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/>
                    <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/>
                  </svg>
                  <span data-i18n="preview.how_to_apply">How to apply</span>
                </button>
              </div>
            </div>

            <!-- Natural language summary -->
            <div class="summary-box" style="margin-top: 16px;">
              <p class="summary-title" data-i18n="preview.summary_title">What this filter does</p>
              <p id="summary-text" class="hidden" aria-live="polite"></p>
              <p id="summary-empty" data-i18n="preview.summary_empty"></p>
            </div>
          </div>
        </div>
      </div><!-- /preview card (inline) -->

    </section><!-- /builder section -->



    <!-- ─────────────────── EXAMPLES SECTION ─────────────────── -->
    <section id="section-examples" class="main-section hidden" aria-labelledby="examples-heading">
      <div class="md-card">
        <div class="card-header">
          <div class="card-header-left">
            <div class="card-header-icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
              </svg>
            </div>
            <h2 id="examples-heading" class="card-title" data-i18n="examples.title">Example Filters</h2>
          </div>
        </div>
        <div class="card-body">
          <p class="section-intro" data-i18n="examples.subtitle"></p>
          <div id="examples-grid" class="examples-grid" role="list" aria-label="Example filters"></div>
        </div>
      </div>

    </section><!-- /examples section -->


    <!-- ─────────────────── HELP SECTION ─────────────────── -->
    <section id="section-help" class="main-section hidden" aria-labelledby="help-heading">

      <div class="md-card" id="help-container">
        <div class="card-header">
          <div class="card-header-left">
            <div class="card-header-icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"/>
                <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
                <line x1="12" y1="17" x2="12.01" y2="17"/>
              </svg>
            </div>
            <h2 id="help-heading" class="card-title" data-i18n="help.title">Gmail Operator Reference</h2>
          </div>
        </div>
        <div class="card-body">
          <p class="section-intro" data-i18n="help.intro"></p>

          <div style="overflow-x: auto; margin-top: 16px;">
            <table class="help-table" aria-label="Gmail search operators">
              <thead>
                <tr>
                  <th style="width:160px;">Operator</th>
                  <th>Description</th>
                </tr>
              </thead>
              <tbody class="help-operators-tbody"></tbody>
            </table>
          </div>

          <div style="margin-top: 28px;">
            <p class="help-tips-title" data-i18n="help.tips_title">Pro Tips</p>
            <ul class="tips-list help-tips-list" role="list"></ul>
          </div>
        </div>
      </div>

    </section><!-- /help section -->


    <!-- ─────────────────── GUIDE SECTION ─────────────────── -->
    <section id="section-guide" class="main-section hidden" aria-labelledby="guide-heading">
      <div id="guide-container"></div>
    </section><!-- /guide section -->

  </main><!-- /main-content -->


  <!-- ══════════════ FOOTER ══════════════ -->
  <footer class="app-footer" role="contentinfo">
    <div class="app-footer-inner">
      <span>
        <span data-i18n="footer.made_with">Made with ♥ — Open Source on</span>
        <a href="https://github.com/Salmonidas/gmail-filters" target="_blank" rel="noopener noreferrer" data-i18n="footer.github"> GitHub</a>
        &nbsp;·&nbsp;
        <a id="footer-donate-link" href="#" target="_blank" rel="noopener noreferrer" class="footer-donate-link">Donate</a>
        &nbsp;·&nbsp;
        <span id="current-year"></span> ©
      </span>
      <span class="footer-disclaimer" data-i18n="footer.disclaimer">Not affiliated with Google.</span>
    </div>
  </footer>

  <!-- ══════════════ SUPPORT TOAST ══════════════ -->
  <div id="support-toast" role="dialog" aria-label="Support the developer" aria-modal="false">
    <div class="toast-header">
      <p class="toast-title"></p>
      <button class="toast-close-btn" aria-label="Close">✕</button>
    </div>
    <p class="toast-desc"></p>
    <div class="toast-links"></div>
    <button class="toast-dismiss"></button>
  </div>

</div><!-- /app-shell -->

<!-- ── Entry point (ES module) ── -->
<script type="module" src="assets/js/main.js"></script>

</body>
</html> 
